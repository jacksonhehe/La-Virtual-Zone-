import{k as N,r as s,m as v,b,j as e,N as w,A as E,L as h}from"./index-DTVNIeXw.js";const k=N("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),S=()=>{const[r,p]=s.useState(""),[i,f]=s.useState(""),[m,t]=s.useState(null),[n,d]=s.useState(!1),l=v(),{login:j,isAuthenticated:g,authError:c,clearAuthError:o,accountBlock:u}=b();s.useEffect(()=>{c&&t(c)},[c]),s.useEffect(()=>()=>{o()},[o]),s.useEffect(()=>{u&&l("/cuenta-suspendida",{replace:!0})},[u,l]);const y=async a=>{if(a.preventDefault(),!r||!i){t("Por favor, completa todos los campos");return}t(null),o(),d(!0);try{await j(r,i),l("/")}catch(x){x instanceof Error?t(x.message):t("Error al iniciar sesión")}finally{d(!1)}};return g?e.jsx(w,{to:"/",replace:!0}):e.jsx("div",{className:"flex min-h-screen items-center justify-center px-4 py-20",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx("div",{className:"card border border-gray-800",children:e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Iniciar Sesión"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Ingresa a tu cuenta de La Virtual Zone"})]}),m&&e.jsxs("div",{className:"mb-6 p-3 bg-red-500/20 text-red-400 rounded-lg flex items-start",children:[e.jsx(E,{size:18,className:"mr-2 mt-0.5 flex-shrink-0"}),e.jsx("p",{children:m})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nombre de usuario"}),e.jsx("input",{type:"text",className:"input w-full",value:r,onChange:a=>p(a.target.value)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Contraseña"}),e.jsx(h,{to:"/recuperar-password",className:"text-primary text-xs hover:text-primary-light",children:"¿Olvidaste tu contraseña?"})]}),e.jsx("input",{type:"password",className:"input w-full",value:i,onChange:a=>f(a.target.value)})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",className:"btn-primary w-full flex justify-center items-center",disabled:n,children:[n?e.jsx("span",{className:"loader w-5 h-5 mr-2"}):e.jsx(k,{size:18,className:"mr-2"}),n?"Iniciando sesión...":"Iniciar Sesión"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-400 text-sm",children:["¿No tienes una cuenta?"," ",e.jsx(h,{to:"/registro",className:"text-primary hover:text-primary-light",children:"Regístrate"})]})})]})})})})};export{S as default};
