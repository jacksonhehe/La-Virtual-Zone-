import{k as be,d as E,s as pe,t as de,v as Z,w as he,r as w,b as ee,j as e,X as fe,A as ve,q as T,x as je,y as ye,M as se,f as Ne,z as we,C as ce,B as ue,D as Ce,R as X,E as Se,F as ke,G as Oe,I as Pe,J as De,K as $e}from"./index-DTVNIeXw.js";import{P as ze}from"./PageHeader-CDa_z5ok.js";import{P as re}from"./PlayerStatsModal-DiDpv2vH.js";import{E as Te}from"./eye-DaKCNHEz.js";import{B as Y}from"./briefcase-UXbZvjE0.js";import{T as q}from"./trending-up-B47Y7Bnl.js";import{C as me}from"./chevron-up-Byc-AYeP.js";import{B as Me}from"./bar-chart-D-stTDCV.js";import{S as ae}from"./star-DB3CJQtb.js";import{A as Ee}from"./alert-triangle-DVGXW8FO.js";import{D as Ae}from"./dollar-sign-zmu4S0bG.js";import{u as Be}from"./usePagination-ao8LDY8Q.js";import{B as Ie}from"./bar-chart-3-5i4z2Yb8.js";import{C as _e}from"./check-circle-BvKcvpo1.js";import{U as Fe}from"./users-DwT6LgF3.js";import{S as le}from"./search-BFl4Rdls.js";import{F as Re}from"./filter-CklMjZET.js";import"./target-D4Ny21RF.js";import"./send-DChXf5xe.js";import"./award-DCWMy85e.js";import"./activity-BmEYKeIw.js";import"./zap-C2wVuIIo.js";import"./arrow-up-cT-bSRhx.js";const Le=be("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]),H=(r,i,g={})=>({id:`evt-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,date:new Date().toISOString(),actor:r,action:i,details:g});async function Ve(r){const{playerId:i,playerName:g,fromClub:x,toClub:p,amount:m,userId:C}=r,{players:o,clubs:j,offers:S,addOffer:N,updateClubs:P,updatePlayers:f,addTransfer:$,marketStatus:u,standings:y}=E.getState();if(!u)return"El mercado est√É¬° cerrado";const v=o.find(b=>b.id===i),c=j.find(b=>b.name===p);if(x==="Libre"||j.find(b=>b.name===x),!v)return"Jugador no encontrado";if(!c)return"Club comprador no encontrado";const d=Z(v),D=he({player:v,buyer:c,amount:m});if(!D.ok)return D.reason||"Oferta inv√É¬°lida";if(!d&&!v.transferListed)return"El jugador no est√É¬° en la lista de transferibles";if(d){if(c.budget<m)return"Presupuesto insuficiente para fichar al agente libre";const b=j.map(k=>k.id===c.id?{...k,budget:k.budget-m}:k),F=v.transferValue||v.marketValue||0,R=o.map(k=>k.id===i?{...k,clubId:c.id,transferListed:!1,transferValue:F}:k),L={id:`transfer-${Date.now()}`,playerId:v.id,playerName:v.name,fromClub:"Libre",toClub:c.name,fee:m,date:new Date().toISOString()};await P(b),await f(R);const l=R.find(k=>k.id===i);return l&&await de(l),$(L),null}if(S.find(b=>b.playerId===i&&b.toClub===p&&b.status==="pending"))return"Ya tienes una oferta pendiente por este jugador";const B={id:`offer-${Date.now()}`,playerId:i,playerName:g,fromClub:x,toClub:p,amount:m,date:new Date().toISOString(),status:"pending",userId:C,history:[H("buyer","offer",{amount:m})]};return N(B),null}async function xe(r){const{offers:i,players:g,clubs:x,updateOfferStatus:p,updateClubs:m,updatePlayers:C,addTransfer:o}=E.getState(),j=i.find(d=>d.id===r);if(!j)return"Oferta no encontrada";if(j.status!=="pending"&&j.status!=="counter-offer")return"Oferta ya procesada";const S=g.find(d=>d.id===j.playerId),N=x.find(d=>d.name===j.toClub),P=x.find(d=>d.name===j.fromClub),f=j.counterAmount??j.amount;if(!S||!N||!P)return p(r,"rejected"),"Datos inv√°lidos, oferta rechazada";if(N.budget<f)return p(r,"rejected",{historyEntry:H("seller","reject",{reason:"Presupuesto insuficiente"})}),"Presupuesto insuficiente";const $=x.map(d=>d.id===N.id?{...d,budget:d.budget-f}:d.id===P.id?{...d,budget:d.budget+f}:d),u=S.transferValue||S.marketValue||0,y=g.map(d=>d.id===S.id?{...d,clubId:N.id,transferListed:!1,transferValue:u}:d),v={id:`transfer-${Date.now()}`,playerId:S.id,playerName:S.name,fromClub:P.name,toClub:N.name,fee:f,date:new Date().toISOString()};await m($),await C(y);const c=y.find(d=>d.id===S.id);return c&&await de(c),p(r,"accepted",{historyEntry:H("seller","accept",{amount:f})}),o(v),null}function qe(r,i,g){const{offers:x,updateOfferStatus:p}=E.getState(),m=x.find(C=>C.id===r);return m?m.status!=="pending"?"Solo se puede contra-ofertar cuando la oferta esta pendiente":(p(r,"counter-offer",{counterAmount:i,counterMessage:g,historyEntry:H("seller","counter",{counterAmount:i,message:g})}),null):"Oferta no encontrada"}async function He(r,i,g){const{offers:x}=E.getState(),p=x.find(m=>m.id===r);if(!p)return"Oferta no encontrada";if(i){const m=p.counterAmount??p.amount,C=await xe(r);return C||(E.getState().updateOfferStatus(r,"accepted",{historyEntry:H("buyer","accept",{counterAmount:m})}),null)}return E.getState().updateOfferStatus(r,"rejected",{counterMessage:g,historyEntry:H("buyer","reject",{message:g})}),null}async function ne(){const{offers:r}=E.getState();return r}async function oe(){const{transfers:r}=E.getState();return r}function Je(r){const{minTransferFee:i}=pe(r);return Math.max(1,i)}function Ge(r,i){return i}function ge(r){const i=r.transferValue||0;return{low:Math.round(i*.7),fair:Math.round(i*.9),high:Math.round(i*1.2),marketValue:i}}function Xe(r,i){ge(i);const g=i.transferValue?r/i.transferValue:1;return g<.5?{level:"ridiculous",message:"Oferta rid√É¬≠culamente baja",color:"text-red-400"}:g<.7?{level:"low",message:"Oferta baja - podr√É¬≠a ser rechazada",color:"text-orange-400"}:g<=1.2?{level:"fair",message:"Oferta razonable",color:"text-green-400"}:g<=1.5?{level:"high",message:"Oferta alta - atractiva",color:"text-blue-400"}:{level:"excessive",message:"Oferta excesiva",color:"text-purple-400"}}const Ue=({player:r,onClose:i})=>{const[g,x]=w.useState(0),[p,m]=w.useState(null),[C,o]=w.useState(!1),[j,S]=w.useState(!1),[N,P]=w.useState(null),{user:f,hasRole:$}=ee(),{clubs:u}=E(),y=Z(r),v=y?{id:"libre",name:"Libre"}:u.find(l=>l.id===r.clubId),c=$("dt"),d=c&&f?.clubId?u.find(l=>l.id===f.clubId):null,D=Je(r),M=d?Ge(r,d.budget):0,B=d?.budget||0,b=ge(r);w.useEffect(()=>{x(y?r.transferValue:b.fair)},[b.fair,r,y]),w.useEffect(()=>{if(g>0){const l=Xe(g,r);P(l)}else P(null)},[g,r]);const F=l=>{l.preventDefault(),l.stopPropagation(),i()},R=l=>{l.key==="Escape"&&(l.preventDefault(),l.stopPropagation(),i())},L=async l=>{if(l.preventDefault(),m(null),!f){m("Debes iniciar sesi√≥n para realizar ofertas");return}if(!c){m("Solo los DTs pueden realizar ofertas");return}if(!d){m("No tienes un club asignado");return}if(!v){m("Club del jugador no encontrado");return}if(d&&v.id===d.id){m("No puedes hacer ofertas por jugadores de tu propio club");return}if(g<D){m(`La oferta debe ser al menos ${T(D)}`);return}if(g>M){m(`No tienes suficiente presupuesto. Disponible: ${T(M)}`);return}const k=await Ve({playerId:r.id,playerName:r.name,fromClub:v.name,toClub:d.name,amount:g,userId:f.id});k?m(k):(o(!0),setTimeout(()=>{i()},1500))};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onKeyDown:R,children:[e.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:F}),e.jsxs("div",{className:"relative bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6",tabIndex:-1,children:[e.jsx("button",{onClick:l=>{l.preventDefault(),l.stopPropagation(),i()},className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:e.jsx(fe,{size:24})}),e.jsx("h3",{className:"text-xl font-bold mb-4",children:y?"Fichar Agente Libre":"Hacer Oferta"}),C?e.jsx("div",{className:"mb-4 p-3 bg-green-500/20 text-green-400 rounded-lg",children:y?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium",children:"Transferencia completada!"}),e.jsx("p",{className:"text-sm",children:"El agente libre ha sido fichado por tu club."})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium",children:"Oferta enviada con exito!"}),e.jsx("p",{className:"text-sm",children:"El club del jugador revisara tu oferta proximamente."})]})}):e.jsxs("form",{onSubmit:L,children:[p&&e.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 text-red-400 rounded-lg flex items-start",children:[e.jsx(ve,{size:18,className:"mr-2 mt-0.5 flex-shrink-0"}),e.jsx("p",{children:p})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("img",{src:r.image||"/default.png",alt:r.name,className:"w-16 h-16 rounded-full object-cover",onError:l=>{const k=l.target;k.src="/default.png"}}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-bold text-lg",children:r.name}),e.jsxs("button",{onClick:l=>{l.preventDefault(),l.stopPropagation(),S(!0)},className:"bg-primary/20 hover:bg-primary/30 text-primary px-2 py-1 rounded text-xs transition-colors flex items-center gap-1",title:"Ver estad√≠sticas completas",children:[e.jsx(Te,{size:12}),"Stats"]})]}),e.jsxs("div",{className:"flex space-x-2 text-sm text-gray-400",children:[e.jsx("span",{children:r.position}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:[r.age," a√±os"]}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:[r.overall," OVR"]})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Club actual: ",v?.name]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Salario actual: ",e.jsx("span",{className:"text-gray-200 font-semibold",children:T(r.contract?.salary||0)})]})]})]}),!y&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-700/50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Sugerencias de oferta:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("button",{onClick:l=>{l.preventDefault(),l.stopPropagation(),x(b.low)},className:"p-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded transition-colors",children:["Baja: ",T(b.low)]}),e.jsxs("button",{onClick:l=>{l.preventDefault(),l.stopPropagation(),x(b.fair)},className:"p-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded transition-colors",children:["Justa: ",T(b.fair)]}),e.jsxs("button",{onClick:l=>{l.preventDefault(),l.stopPropagation(),x(b.high)},className:"p-2 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 rounded transition-colors",children:["Alta: ",T(b.high)]}),e.jsxs("button",{onClick:l=>{l.preventDefault(),l.stopPropagation(),x(b.marketValue)},className:"p-2 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 rounded transition-colors",children:["Mercado: ",T(b.marketValue)]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:y?"Precio de fichaje (fijo)":`Cantidad de la oferta (m√°ximo ${T(M)})`}),e.jsx("input",{type:"number",className:`input w-full ${y?"bg-gray-600/50 cursor-not-allowed":""}`,value:g,onChange:l=>!y&&x(Number(l.target.value)),onKeyDown:l=>{l.key==="Enter"&&(l.preventDefault(),l.stopPropagation())},min:y?r.transferValue:D,max:y?r.transferValue:M,placeholder:y?"Precio fijo":"Ingresa tu oferta...",readOnly:y}),N&&!y&&e.jsx("div",{className:`mt-2 p-2 rounded text-xs ${N.level==="ridiculous"||N.level==="low"?"bg-red-500/10 border border-red-500/20":N.level==="fair"?"bg-green-500/10 border border-green-500/20":"bg-blue-500/10 border border-blue-500/20"}`,children:e.jsx("p",{className:`${N.color} font-medium`,children:N.message})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["Presupuesto disponible: ",T(B)]}),e.jsx("button",{type:"submit",onClick:l=>{l.stopPropagation()},className:"btn-primary",disabled:!f||!c||!d,children:y?"Fichar Jugador":"Enviar Oferta"})]})]}),j&&e.jsx(re,{player:r,isOpen:j,onClose:()=>S(!1)})]})]})},ie=({offer:r,isAsSeller:i=!1,expandedOffers:g,toggleOfferDetails:x,canRespondToOffer:p,isBuyerOfOffer:m,counterOfferAmount:C,setCounterOfferAmount:o,counterOfferMessage:j={},setCounterOfferMessage:S,showCounterOfferInput:N,setShowCounterOfferInput:P,handleCounterOffer:f,handleRespondToCounterOffer:$,handleOfferAction:u,getClubLogo:y,onShowPlayerStats:v})=>e.jsxs("div",{className:"bg-gradient-to-r from-gray-800/50 to-gray-900/50 border border-gray-700/50 rounded-xl overflow-hidden hover:border-gray-600/70 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20 backdrop-blur-sm",children:[e.jsx("div",{className:"p-5 cursor-pointer group",onClick:()=>x(r.id),children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:y(i?r.fromClub:r.toClub),alt:i?r.fromClub:r.toClub,className:"w-10 h-10 object-contain rounded-lg bg-gray-800/50 p-1 group-hover:scale-105 transition-transform duration-200"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-gray-700 rounded-full border border-gray-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm text-white group-hover:text-gray-100 transition-colors",children:i?e.jsxs(e.Fragment,{children:["Oferta recibida por ",e.jsx("span",{className:"text-primary font-bold",children:r.playerName})," de ",r.toClub]}):e.jsxs(e.Fragment,{children:["Oferta por ",e.jsx("span",{className:"text-primary font-bold",children:r.playerName})," de ",r.fromClub]})}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-400 mt-1",children:[e.jsx("span",{className:"font-medium",children:Ne(r.date)}),e.jsx("div",{className:"px-2 py-1 rounded-full bg-gray-700/50 text-gray-300 text-xs font-medium",children:we(r.status)})]})]})]}),e.jsx("button",{onClick:c=>{c.stopPropagation(),x(r.id)},className:"bg-gray-800/70 hover:bg-gray-700 p-2 rounded-full transition-all duration-200 hover:scale-105 border border-gray-600/50",children:g[r.id]?e.jsx(me,{size:16,className:"text-gray-400 group-hover:text-gray-300"}):e.jsx(ce,{size:16,className:"text-gray-400 group-hover:text-gray-300"})})]})}),g[r.id]&&e.jsxs("div",{className:"px-6 pb-6 pt-4 border-t border-gray-700/70 bg-gradient-to-b from-gray-800/20 to-transparent",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wide",children:"Club vendedor"}),e.jsxs("div",{className:"flex items-center space-x-3 bg-gray-800/30 rounded-lg p-3 border border-gray-700/50",children:[e.jsx("img",{src:y(r.fromClub),alt:r.fromClub,className:"w-8 h-8 object-contain rounded-md bg-gray-700/50 p-1"}),e.jsx("span",{className:"font-medium text-gray-200",children:r.fromClub})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wide",children:"Club comprador"}),e.jsxs("div",{className:"flex items-center space-x-3 bg-gray-800/30 rounded-lg p-3 border border-gray-700/50",children:[e.jsx("img",{src:y(r.toClub),alt:r.toClub,className:"w-8 h-8 object-contain rounded-md bg-gray-700/50 p-1"}),e.jsx("span",{className:"font-medium text-gray-200",children:r.toClub})]})]})]}),(()=>{const c=typeof r.counterAmount=="number"?r.counterAmount:null,d=c!==null&&(r.status==="counter-offer"||r.status==="accepted"),D=d?r.status==="accepted"?"Contraoferta aceptada":"Contraoferta":"Cantidad ofertada",M=d?r.status==="accepted"?"Contraoferta aceptada":"Renegociada":null,B=d?c:r.amount,b=c!==null&&c!==r.amount;return e.jsxs("div",{className:"mb-6 bg-gradient-to-r from-gray-800/40 to-gray-900/40 rounded-xl p-4 border border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-300",children:D}),M&&e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-purple-500/20 to-purple-600/20 text-purple-400 text-xs rounded-full font-medium border border-purple-500/30",children:M})]}),e.jsxs("div",{className:"flex items-baseline space-x-3",children:[e.jsx("p",{className:"font-bold text-2xl text-white",children:T(B)}),b&&e.jsxs("p",{className:"text-sm text-gray-400 line-through",children:["Original: ",T(r.amount)]})]})]})})(),i&&e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:c=>{c.stopPropagation(),v(r)},className:"w-full bg-gradient-to-r from-blue-500/10 to-blue-600/10 hover:from-blue-500/20 hover:to-blue-600/20 border border-blue-500/30 hover:border-blue-400/50 text-blue-400 hover:text-blue-300 px-4 py-3 rounded-lg font-medium text-sm flex items-center justify-center transition-all duration-200 hover:shadow-lg hover:shadow-blue-500/10",children:[e.jsx(Me,{size:16,className:"mr-2"}),"Ver estad√≠sticas del jugador"]})}),p(r)&&e.jsxs("div",{className:"space-y-4",children:[r.status==="pending"&&e.jsx("div",{className:"space-y-3",children:N[r.id]?e.jsxs("div",{className:"space-y-3 bg-gray-800/30 rounded-lg p-4 border border-gray-700/50",children:[e.jsx("div",{children:e.jsx("input",{type:"number",placeholder:"Monto de contraoferta",value:C[r.id]||"",onChange:c=>o(d=>({...d,[r.id]:Number(c.target.value)})),className:"w-full bg-gray-900/50 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-all",min:Math.round(r.amount*1.1),max:Math.round(r.amount*2)})}),e.jsxs("div",{children:[e.jsx("textarea",{placeholder:"Mensaje opcional para la contraoferta...",value:(j||{})[r.id]||"",onChange:c=>S&&S(d=>({...d,[r.id]:c.target.value})),className:"w-full bg-gray-900/50 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-all resize-none",rows:3,maxLength:200}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1 text-right",children:[((j||{})[r.id]||"").length,"/200 caracteres"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>f(r.id),className:"flex-1 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-500 hover:to-purple-600 text-white px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/20",children:"Enviar"}),e.jsx("button",{onClick:()=>{P(c=>({...c,[r.id]:!1})),o(c=>({...c,[r.id]:void 0})),S(c=>({...c,[r.id]:""}))},className:"flex-1 bg-gray-700 hover:bg-gray-600 border border-gray-600 text-gray-300 hover:text-white px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-200",children:"Cancelar"})]})]}):e.jsxs("button",{onClick:()=>P(c=>({...c,[r.id]:!0})),className:"w-full bg-gradient-to-r from-purple-500/10 to-purple-600/10 hover:from-purple-500/20 hover:to-purple-600/20 border border-purple-500/30 hover:border-purple-400/50 text-purple-400 hover:text-purple-300 px-4 py-3 rounded-lg font-medium text-sm flex items-center justify-center transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/10",children:[e.jsx(q,{size:16,className:"mr-2"}),"Hacer Contraoferta"]})}),r.status==="counter-offer"&&e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>$(r.id,!0),className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-200 hover:shadow-lg hover:shadow-green-500/20",children:"‚úì Aceptar Contraoferta"}),e.jsx("button",{onClick:()=>$(r.id,!1),className:"flex-1 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-200 hover:shadow-lg hover:shadow-red-500/20",children:"‚úï Rechazar"})]}),r.status==="pending"&&!N[r.id]&&e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>u(r.id,"accept"),className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-200 hover:shadow-lg hover:shadow-green-500/20",children:"‚úì Aceptar"}),e.jsx("button",{onClick:()=>u(r.id,"reject"),className:"flex-1 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white px-4 py-3 rounded-lg font-semibold text-sm transition-all duration-200 hover:shadow-lg hover:shadow-red-500/20",children:"‚úï Rechazar"})]})]}),m(r)&&!p(r)&&r.status==="pending"&&e.jsx("div",{className:"bg-gradient-to-r from-yellow-500/10 to-yellow-600/10 border border-yellow-500/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Pendiente"}),e.jsx("p",{className:"text-yellow-300/80 text-xs mt-1",children:"Esperando respuesta del club vendedor"})]})]})}),!m(r)&&r.status==="counter-offer"&&!p(r)&&e.jsx("div",{className:"bg-gradient-to-r from-purple-500/10 to-purple-600/10 border border-purple-500/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-400 font-semibold",children:"Contraoferta enviada"}),e.jsx("p",{className:"text-purple-300/80 text-xs mt-1",children:"Esperando respuesta del club comprador"})]})]})}),e.jsxs(e.Fragment,{children:[r.status==="accepted"&&e.jsxs("div",{className:"bg-gradient-to-r from-green-500/10 to-green-600/10 border border-green-500/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-green-400 font-medium text-sm",children:i?"Esta oferta fue aceptada. El jugador ha sido transferido.":"¬°Tu oferta fue aceptada! El jugador ha sido transferido a tu club."})]}),!i&&typeof r.counterAmount=="number"&&e.jsx("div",{className:"mt-3 bg-green-500/5 border border-green-500/30 rounded-lg px-3 py-2",children:e.jsxs("p",{className:"text-green-300 text-sm font-semibold",children:["Contraoferta aceptada: ",T(r.counterAmount)]})})]}),r.status==="rejected"&&e.jsx("div",{className:"bg-gradient-to-r from-red-500/10 to-red-600/10 border border-red-500/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-red-400 font-medium text-sm",children:i?"Esta oferta fue rechazada.":"Tu oferta fue rechazada por el club vendedor."})]})}),r.status==="counter-offer"&&e.jsx("div",{className:"bg-gradient-to-r from-purple-500/10 to-purple-600/10 border border-purple-500/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-purple-400 font-medium text-sm",children:i?`Enviaste una contraoferta: ${T(r.counterAmount)}`:`El club vendedor hizo una contraoferta: ${T(r.counterAmount)}`}),r.counterMessage&&e.jsx("div",{className:"mt-2 p-3 bg-purple-500/5 border border-purple-500/20 rounded-md",children:e.jsxs("p",{className:"text-purple-300 text-xs italic",children:['"',r.counterMessage,'"']})})]})]})})]})]})]}),Ke=()=>{const[r,i]=w.useState({}),[g,x]=w.useState(null),[p,m]=w.useState(null),[C,o]=w.useState({}),[j,S]=w.useState({}),[N,P]=w.useState({}),[f,$]=w.useState(null),{user:u,hasRole:y}=ee(),{offers:v,clubs:c,marketStatus:d,players:D,updateOffers:M,updateTransfers:B}=E();w.useEffect(()=>{if(!je.useSupabase)return;let t=!0;(async()=>{try{const[h,A]=await Promise.all([ne(),oe()]);t&&(M(h),B(A))}catch(h){console.error("OffersPanel: error loading from Supabase",h)}})();const a=ye(),n=a.channel("market-realtime").on("postgres_changes",{event:"*",schema:"public",table:"offers"},async()=>{try{M(await ne())}catch{}}).on("postgres_changes",{event:"*",schema:"public",table:"transfers"},async()=>{try{B(await oe())}catch{}}).subscribe();return()=>{t=!1;try{a.removeChannel(n)}catch{}}},[]);const b=y("dt"),F=()=>{if(!u)return[];if((b||Array.isArray(u.roles)&&u.roles.includes("dt"))&&u.clubId){const a=c.find(n=>n.id===u.clubId);return a?v.filter(n=>n.fromClub===a.name||n.toClub===a.name):[]}return v.filter(a=>a.userId===u.id)},R=()=>{if(!u||!u.clubId)return[];if(!(b||Array.isArray(u.roles)&&u.roles.includes("dt")))return[];const a=c.find(n=>n.id===u.clubId);return a?v.filter(n=>n.toClub===a.name):[]},L=()=>{if(!u||!u.clubId)return[];if(!(b||Array.isArray(u.roles)&&u.roles.includes("dt")))return[];const a=c.find(n=>n.id===u.clubId);return a?v.filter(n=>n.fromClub===a.name):[]},l=R(),k=L(),G=t=>c.find(n=>n.name===t)?.logo||"",U=t=>{i(a=>({...a,[t]:!a[t]}))},K=async(t,a)=>{if(x(null),m(null),!d){x("El mercado est√° cerrado. No puedes procesar ofertas.");return}const n=v.find(h=>h.id===t);if(!n||!I(n)){x("No tienes permisos para responder a esta oferta.");return}if(a==="accept"){console.log(`üîÑ Iniciando aceptaci√≥n de oferta: ${t}`);const h=await xe(t);h?(console.error(`‚ùå Error en transferencia: ${h}`),x(h)):(console.log("‚úÖ Transferencia completada exitosamente"),m("¬°Transferencia completada con √©xito!"))}else E.getState().updateOfferStatus(t,"rejected"),m("Oferta rechazada.")};w.useEffect(()=>{if(!p)return;const t=setTimeout(()=>m(null),3e3);return()=>clearTimeout(t)},[p]);const I=t=>{if(!u||!d)return!1;if(t.status==="pending"){if((b||Array.isArray(u.roles)&&u.roles.includes("dt"))&&u.clubId){const n=c.find(h=>h.id===u.clubId);return!!(n&&n.name===t.fromClub&&n.name!==t.toClub)}}else if(t.status==="counter-offer"&&(b||Array.isArray(u.roles)&&u.roles.includes("dt"))&&u.clubId){const n=c.find(h=>h.id===u.clubId);return!!(n&&n.name===t.toClub&&n.name!==t.fromClub)}return!1},V=t=>{if(!u||!u.clubId||!(b||Array.isArray(u.roles)&&u.roles.includes("dt")))return!1;const n=c.find(h=>h.id===u.clubId);return!!(n&&n.name===t.toClub&&n.name!==t.fromClub)},O=t=>{const a=C[t];if(!a||a<=0){x("Por favor ingresa un monto v√°lido para la contraoferta");return}x(null);const n=v.find(_=>_.id===t);if(!n||!I(n)){x("No tienes permisos para responder a esta oferta.");return}const h=j[t]?.trim(),A=qe(t,a,h||void 0);A?x(A):(m("Contraoferta enviada con √©xito"),P(_=>({..._,[t]:!1})),o(_=>({..._,[t]:void 0})),S(_=>({..._,[t]:""})),setTimeout(()=>m(null),3e3))},J=async(t,a)=>{x(null);const n=v.find(A=>A.id===t);if(!n||!I(n)){x("No tienes permisos para responder a esta oferta.");return}const h=await He(t,a);h?x(h):(m(a?"Contraoferta aceptada. Transferencia completada.":"Contraoferta rechazada."),setTimeout(()=>m(null),3e3))},W=t=>{if(!D||D.length===0){console.error("No players data available");return}let a=D.find(n=>n.id===t.playerId);if(!a&&(a=D.find(n=>n.name===t.playerName),a||(a=D.find(n=>n.name?.toLowerCase()===t.playerName?.toLowerCase())),!a)){const n=c.find(h=>h.name===t.fromClub);n&&(a=D.find(h=>h.clubId===n.id&&h.transferListed))}a?$(a):console.error("Player not found for offer:",t)};return F().length===0?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Y,{className:"text-primary mr-3",size:24}),e.jsx("h2",{className:"text-2xl font-bold",children:"Gesti√≥n de Ofertas"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Revisa y gestiona las ofertas que has hecho y las que has recibido por tus jugadores."})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 lg:gap-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-500/5 to-green-600/10 rounded-xl border border-green-500/20 p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-green-400 to-green-600 rounded-full mr-3 shadow-sm"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-green-400 mb-1",children:"Mis Ofertas"}),e.jsx("p",{className:"text-green-300/70 text-sm",children:"Ofertas que has hecho por jugadores"})]}),e.jsx("span",{className:"ml-auto bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm font-medium border border-green-500/30",children:"0"})]}),e.jsxs("div",{className:"text-center py-16 text-gray-400 bg-gradient-to-br from-green-500/5 to-green-600/5 rounded-xl border-2 border-dashed border-green-500/30",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-green-500/10 to-green-600/10 rounded-full flex items-center justify-center border border-green-500/20",children:e.jsx(q,{className:"text-green-400",size:32})}),e.jsx("h4",{className:"font-semibold text-green-300 mb-2",children:"No has hecho ninguna oferta a√∫n"}),e.jsx("p",{className:"text-sm text-green-400/80 max-w-xs mx-auto leading-relaxed",children:'Ve a la pesta√±a "Jugadores" para hacer ofertas por jugadores transferibles y construir tu equipo ideal.'})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500/5 to-blue-600/10 rounded-xl border border-blue-500/20 p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-400 to-blue-600 rounded-full mr-3 shadow-sm"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-400 mb-1",children:"Ofertas Recibidas"}),e.jsx("p",{className:"text-blue-300/70 text-sm",children:"Ofertas por tus jugadores"})]}),e.jsx("span",{className:"ml-auto bg-blue-500/20 text-blue-400 px-3 py-1 rounded-full text-sm font-medium border border-blue-500/30",children:"0"})]}),e.jsxs("div",{className:"text-center py-16 text-gray-400 bg-gradient-to-br from-blue-500/5 to-blue-600/5 rounded-xl border-2 border-dashed border-blue-500/30",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-blue-500/10 to-blue-600/10 rounded-full flex items-center justify-center border border-blue-500/20",children:e.jsx(se,{className:"text-blue-400",size:32})}),e.jsx("h4",{className:"font-semibold text-blue-300 mb-2",children:"No has recibido ninguna oferta"}),e.jsx("p",{className:"text-sm text-blue-400/80 max-w-xs mx-auto leading-relaxed",children:"Las ofertas por tus jugadores aparecer√°n aqu√≠ cuando otros directores t√©cnicos se interesen en tu plantilla."})]})]})]})]}):e.jsxs("div",{className:"space-y-8",children:[!d&&e.jsx("div",{className:"p-5 bg-gradient-to-r from-red-500/10 to-red-600/10 border border-red-500/20 text-red-400 rounded-xl backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"font-medium",children:"El mercado de fichajes est√° cerrado. No puedes aceptar ni rechazar ofertas."})]})}),p&&e.jsx("div",{className:"p-5 bg-gradient-to-r from-green-500/10 to-green-600/10 border border-green-500/20 text-green-400 rounded-xl backdrop-blur-sm transition-all duration-300",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-medium",children:p})]})}),g&&e.jsx("div",{className:"p-5 bg-gradient-to-r from-red-500/10 to-red-600/10 border border-red-500/20 text-red-400 rounded-xl backdrop-blur-sm transition-all duration-300",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("span",{className:"font-medium",children:g})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg mr-4",children:e.jsx(Y,{className:"text-primary",size:28})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gesti√≥n de Ofertas"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Revisa y gestiona las ofertas que has hecho y las que has recibido por tus jugadores."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-500/8 to-green-600/12 rounded-2xl border border-green-500/25 p-7 shadow-xl hover:shadow-2xl transition-all duration-300 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center mb-7",children:[e.jsx("div",{className:"w-2 h-10 bg-gradient-to-b from-green-400 to-green-600 rounded-full mr-4 shadow-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-green-400 mb-1",children:"Mis Ofertas"}),e.jsx("p",{className:"text-green-300/80 text-sm font-medium",children:"Ofertas que has hecho por jugadores"})]}),e.jsx("span",{className:"ml-auto bg-gradient-to-r from-green-500/20 to-green-600/20 text-green-400 px-4 py-2 rounded-full text-sm font-semibold border border-green-500/30 shadow-sm",children:l.length})]}),e.jsx("div",{className:"space-y-4",children:l.length>0?l.map(t=>e.jsx(ie,{offer:t,isAsSeller:!1,expandedOffers:r,toggleOfferDetails:U,canRespondToOffer:I,isBuyerOfOffer:V,counterOfferAmount:C,setCounterOfferAmount:o,counterOfferMessage:j,setCounterOfferMessage:S,showCounterOfferInput:N,setShowCounterOfferInput:P,handleCounterOffer:O,handleRespondToCounterOffer:J,handleOfferAction:K,getClubLogo:G},t.id)):e.jsxs("div",{className:"text-center py-12 text-gray-400 bg-gray-800/20 rounded-lg border-2 border-dashed border-gray-700",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-500/10 rounded-full flex items-center justify-center",children:e.jsx(q,{className:"text-green-400",size:28})}),e.jsx("p",{className:"font-medium",children:"No has hecho ninguna oferta a√∫n"}),e.jsx("p",{className:"text-sm mt-1",children:'Ve a la pesta√±a "Jugadores" para hacer ofertas por jugadores transferibles'})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500/8 to-blue-600/12 rounded-2xl border border-blue-500/25 p-7 shadow-xl hover:shadow-2xl transition-all duration-300 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center mb-7",children:[e.jsx("div",{className:"w-2 h-10 bg-gradient-to-b from-blue-400 to-blue-600 rounded-full mr-4 shadow-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-400 mb-1",children:"Ofertas Recibidas"}),e.jsx("p",{className:"text-blue-300/80 text-sm font-medium",children:"Ofertas por tus jugadores"})]}),e.jsx("span",{className:"ml-auto bg-gradient-to-r from-blue-500/20 to-blue-600/20 text-blue-400 px-4 py-2 rounded-full text-sm font-semibold border border-blue-500/30 shadow-sm",children:k.length})]}),e.jsx("div",{className:"space-y-4",children:k.length>0?k.map(t=>e.jsx(ie,{offer:t,isAsSeller:!0,expandedOffers:r,toggleOfferDetails:U,canRespondToOffer:I,isBuyerOfOffer:V,counterOfferAmount:C,setCounterOfferAmount:o,counterOfferMessage:j,setCounterOfferMessage:S,showCounterOfferInput:N,setShowCounterOfferInput:P,handleCounterOffer:O,handleRespondToCounterOffer:J,handleOfferAction:K,getClubLogo:G,onShowPlayerStats:W},t.id)):e.jsxs("div",{className:"text-center py-12 text-gray-400 bg-gray-800/20 rounded-lg border-2 border-dashed border-gray-700",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-500/10 rounded-full flex items-center justify-center",children:e.jsx(se,{className:"text-blue-400",size:28})}),e.jsx("p",{className:"font-medium",children:"No has recibido ninguna oferta"}),e.jsx("p",{className:"text-sm mt-1",children:"Las ofertas por tus jugadores aparecer√°n aqu√≠"})]})})]})]}),f&&e.jsx(re,{player:f,isOpen:!!f,onClose:()=>$(null)})]})};function We(r){return r>=95?{frame:"from-[#0f172a] via-[#1e293b] via-[#334155] to-[#0f172a]",border:"from-yellow-300 via-amber-200 via-yellow-400 to-amber-300",glow:"shadow-[0_0_30px_rgba(251,191,36,0.6)]",text:"text-yellow-200",name:"text-yellow-100",cardBg:"from-slate-900 via-blue-950 to-slate-900",ratingBg:"from-amber-400 to-yellow-300",statsBg:"from-amber-500/20 to-yellow-500/10"}:r>=90?{frame:"from-[#1a1a2e] via-[#16213e] via-[#0f172a] to-[#1a1a2e]",border:"from-cyan-300 via-blue-300 via-cyan-400 to-blue-300",glow:"shadow-[0_0_25px_rgba(6,182,212,0.5)]",text:"text-cyan-200",name:"text-cyan-100",cardBg:"from-slate-900 via-slate-800 to-slate-900",ratingBg:"from-cyan-400 to-blue-300",statsBg:"from-cyan-500/20 to-blue-500/10"}:r>=88?{frame:"from-[#1a1a2e] via-[#2d1b69] via-[#1a1a2e] to-[#2d1b69]",border:"from-purple-300 via-fuchsia-300 via-purple-400 to-fuchsia-300",glow:"shadow-[0_0_20px_rgba(168,85,247,0.4)]",text:"text-purple-200",name:"text-purple-100",cardBg:"from-slate-900 via-purple-950 to-slate-900",ratingBg:"from-purple-400 to-fuchsia-300",statsBg:"from-purple-500/20 to-fuchsia-500/10"}:r>=85?{frame:"from-[#1a1a2e] via-[#166534] via-[#1a1a2e] to-[#166534]",border:"from-green-300 via-emerald-300 via-green-400 to-emerald-300",glow:"shadow-[0_0_18px_rgba(34,197,94,0.4)]",text:"text-green-200",name:"text-green-100",cardBg:"from-slate-900 via-green-950 to-slate-900",ratingBg:"from-green-400 to-emerald-300",statsBg:"from-green-500/20 to-emerald-500/10"}:r>=82?{frame:"from-[#1a1a2e] via-[#7c2d12] via-[#1a1a2e] to-[#7c2d12]",border:"from-orange-300 via-red-300 via-orange-400 to-red-300",glow:"shadow-[0_0_15px_rgba(239,68,68,0.3)]",text:"text-orange-200",name:"text-orange-100",cardBg:"from-slate-900 via-red-950 to-slate-900",ratingBg:"from-orange-400 to-red-300",statsBg:"from-orange-500/20 to-red-500/10"}:r>=75?{frame:"from-[#1a1a2e] via-[#1e40af] via-[#1a1a2e] to-[#1e40af]",border:"from-blue-300 via-indigo-300 via-blue-400 to-indigo-300",glow:"shadow-[0_0_12px_rgba(59,130,246,0.3)]",text:"text-blue-200",name:"text-blue-100",cardBg:"from-slate-900 via-blue-950 to-slate-900",ratingBg:"from-blue-400 to-indigo-300",statsBg:"from-blue-500/20 to-indigo-500/10"}:{frame:"from-[#1a1a2e] via-[#374151] via-[#1a1a2e] to-[#374151]",border:"from-gray-300 via-slate-300 via-gray-400 to-slate-300",glow:"shadow-[0_0_8px_rgba(107,114,128,0.2)]",text:"text-gray-200",name:"text-gray-100",cardBg:"from-slate-900 via-gray-900 to-slate-900",ratingBg:"from-gray-400 to-slate-300",statsBg:"from-gray-500/20 to-slate-500/10"}}const Qe=({player:r,club:i,value:g,disabled:x,isOwnPlayer:p,onOffer:m,onStatsClick:C})=>{const o=We(r.overall),[j,S]=w.useState(!1),N=f=>{switch(Ce(f)){case"goalkeeper":return"from-green-400 to-emerald-300";case"defender":return"from-blue-400 to-cyan-300";case"midfielder":return"from-purple-400 to-fuchsia-300";case"attacker":return"from-red-400 to-pink-300";default:return"from-gray-400 to-slate-300"}},P=f=>{f.target.closest("button")||C&&C()};return e.jsxs("div",{className:`relative w-full max-w-sm h-[400px] ${o.glow} group cursor-pointer`,onClick:P,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 via-transparent to-white/5 blur-3xl scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent"}),e.jsxs("div",{className:`relative h-full rounded-2xl overflow-hidden bg-gradient-to-b ${o.cardBg} border border-white/10 shadow-2xl`,children:[e.jsx("div",{className:`absolute inset-0 rounded-2xl bg-gradient-to-br ${o.border} opacity-75 blur-sm scale-105`}),e.jsx("div",{className:`absolute inset-0 rounded-2xl bg-gradient-to-br ${o.border} opacity-50 blur-lg scale-110`}),e.jsxs("div",{className:"absolute inset-0 opacity-5",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.15),transparent_70%)]"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-b from-white/15 to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_30%,rgba(255,255,255,0.05)_50%,transparent_70%)] bg-[length:20px_20px]"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-white/5 to-transparent opacity-50"}),e.jsx("div",{className:"absolute top-0 left-1/4 w-1/2 h-1/3 bg-gradient-to-b from-white/10 via-white/5 to-transparent blur-sm"}),e.jsxs("div",{className:"relative h-full p-2 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:`px-1.5 py-0.5 rounded-full bg-gradient-to-r ${o.ratingBg} text-black font-black text-sm shadow-md`,children:r.overall}),e.jsx("div",{className:`px-1 py-0.5 rounded bg-gradient-to-r ${N(r.position)} text-white font-bold text-[10px] uppercase tracking-wider shadow-sm`,children:ue(r.position)})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center mb-1.5",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative w-32 h-32 rounded-full overflow-hidden ring-3 ring-white/40 shadow-xl group-hover:ring-white/60 transition-all duration-500 group-hover:shadow-[0_0_30px_rgba(255,255,255,0.3)]",children:[e.jsx("div",{className:`absolute inset-0 rounded-full bg-gradient-to-br ${o.border} opacity-30 blur-md scale-125 animate-pulse -z-10`}),e.jsx("div",{className:`absolute inset-0 rounded-full bg-gradient-to-br ${o.border} opacity-20 blur-lg scale-150 -z-10`}),e.jsx("img",{src:r.image||"/default.png",alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500 relative z-10 brightness-105 contrast-105",onError:f=>{const $=f.target;$.src="/default.png"},loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent z-20"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 z-30"}),e.jsx("div",{className:`absolute inset-0 rounded-full border-2 bg-transparent ${o.border} opacity-0 group-hover:opacity-70 transition-opacity duration-500 animate-spin -z-20`,style:{animationDuration:"3s"}})]}),r.overall>=90&&e.jsx("div",{className:"absolute -top-1 -right-1 animate-bounce z-50",children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:`w-4 h-4 ${o.text} fill-current drop-shadow-lg`}),e.jsx("div",{className:`absolute inset-0 w-4 h-4 ${o.text} fill-current animate-ping opacity-50`,children:e.jsx(ae,{size:16})})]})}),r.overall>=95&&e.jsx("div",{className:"absolute -bottom-1 -left-1 animate-pulse z-50",children:e.jsx("div",{className:`p-0.5 rounded-full bg-gradient-to-br ${o.border} shadow-md`,children:e.jsx(q,{className:`w-3 h-3 ${o.text} animate-bounce`})})}),r.overall>=88&&e.jsx("div",{className:"absolute top-1/2 -left-2 opacity-50 group-hover:opacity-80 transition-opacity duration-300 z-40",children:e.jsx("div",{className:`w-0.5 h-8 bg-gradient-to-b ${o.border} rounded-full animate-pulse`})}),r.overall>=88&&e.jsx("div",{className:"absolute top-1/2 -right-2 opacity-50 group-hover:opacity-80 transition-opacity duration-300 z-40",children:e.jsx("div",{className:`w-0.5 h-8 bg-gradient-to-b ${o.border} rounded-full animate-pulse`})})]})}),e.jsxs("div",{className:`text-center mb-1.5 ${o.name}`,children:[e.jsx("h3",{className:"text-base font-black uppercase tracking-wide drop-shadow-lg",children:r.name}),e.jsx("div",{className:"text-[10px] opacity-80 font-semibold mt-0.5",children:i.name})]}),e.jsx("div",{className:`rounded-md p-1.5 mb-1.5 bg-gradient-to-br ${o.statsBg} border border-white/10 backdrop-blur-sm`,children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:`text-[10px] font-bold ${o.text} opacity-75`,children:"SPD"}),e.jsx("div",{className:`text-base font-black ${o.text}`,children:r.attributes.speed||r.attributes.pace})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:`text-[10px] font-bold ${o.text} opacity-75`,children:"SHO"}),e.jsx("div",{className:`text-base font-black ${o.text}`,children:r.attributes.shooting||Math.round(((r.attributes.finishing||0)+(r.attributes.kickingPower||0))/2)})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:`text-[10px] font-bold ${o.text} opacity-75`,children:"DRI"}),e.jsx("div",{className:`text-base font-black ${o.text}`,children:r.attributes.dribbling})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:`text-[10px] font-bold ${o.text} opacity-75`,children:"STR"}),e.jsx("div",{className:`text-base font-black ${o.text}`,children:r.attributes.physicalContact||r.attributes.physical})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:`text-[10px] font-bold ${o.text} opacity-75`,children:"PAS"}),e.jsx("div",{className:`text-base font-black ${o.text}`,children:r.attributes.passing||Math.round(((r.attributes.lowPass||0)+(r.attributes.loftedPass||0))/2)})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:`text-[10px] font-bold ${o.text} opacity-75`,children:"DEF"}),e.jsx("div",{className:`text-base font-black ${o.text}`,children:r.attributes.defending||Math.round(((r.attributes.defensiveAwareness||0)+(r.attributes.ballWinning||0))/2)})]})]})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`text-base font-black ${o.text}`,children:T(g)}),e.jsxs("div",{className:"flex items-center space-x-1",children:[i.logo&&e.jsx("img",{src:i.logo,alt:i.name,className:"w-5 h-5 rounded"}),e.jsx("span",{className:`text-xs font-semibold ${o.text} opacity-80`,children:i.name})]})]}),e.jsxs("button",{onClick:f=>{f.stopPropagation(),m&&m()},disabled:x,className:`w-full py-1.5 px-3 rounded-md font-bold text-sm transition-all duration-300 relative overflow-hidden ${x?"bg-gray-600/50 text-gray-400 cursor-not-allowed":`bg-gradient-to-r ${o.ratingBg} text-black hover:scale-105 hover:shadow-[0_0_12px_rgba(255,255,255,0.3)] active:scale-95 group/btn`}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover/btn:opacity-100 transition-opacity duration-300 transform -skew-x-12 translate-x-[-100%] group-hover/btn:translate-x-[200%]"}),e.jsx("span",{className:"relative z-10 flex items-center justify-center",children:x?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{size:14,className:"mr-1"}),p?"Tu Jugador":"No Disponible"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ae,{size:14,className:"mr-1"}),Z(r)?"Fichar Libre":"Hacer Oferta",e.jsx(q,{size:14,className:"ml-1"})]})})]})]}),e.jsx("div",{className:"absolute top-0.5 right-0.5 opacity-15 group-hover:opacity-30 transition-opacity duration-300",children:e.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-gradient-to-br ${o.border} shadow-sm animate-pulse`})}),e.jsx("div",{className:"absolute bottom-0.5 left-0.5 opacity-15 group-hover:opacity-30 transition-opacity duration-300",children:e.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-gradient-to-br ${o.border} shadow-sm animate-pulse`})}),e.jsx("div",{className:"absolute top-1/2 left-0.5 opacity-10 group-hover:opacity-25 transition-opacity duration-300",children:e.jsx("div",{className:`w-0.5 h-4 bg-gradient-to-b ${o.border} rounded-full animate-pulse`})}),e.jsx("div",{className:"absolute top-1/2 right-0.5 opacity-10 group-hover:opacity-25 transition-opacity duration-300",children:e.jsx("div",{className:`w-0.5 h-4 bg-gradient-to-b ${o.border} rounded-full animate-pulse`})})]})]})]})},yr=()=>{const[r,i]=w.useState(""),[g,x]=w.useState("all"),[p,m]=w.useState(null),[C,o]=w.useState(null),[j,S]=w.useState(!1),[N,P]=w.useState("all"),[f,$]=w.useState(null),[u,y]=w.useState(null),[v,c]=w.useState("players"),{players:d,clubs:D,marketStatus:M,offers:B,transfers:b,refreshPlayers:F}=E(),R=s=>ke(s,D),L=s=>Oe(s,D),{user:l}=ee(),[k,G]=w.useState(0);X.useEffect(()=>{const s=async()=>{try{const{duplicates:a}=await Pe();a.length>0&&(console.warn("WARNING: Duplicate players detected in the system. Applying automatic cleanup..."),await De(),typeof F=="function"&&await F(),console.warn("Duplicate players removed automatically."))}catch(a){console.error("Error checking for duplicates:",a)}},t=async()=>{try{const a=await $e();G(a)}catch(a){console.error("Error getting transfer listed count:",a)}};s(),t()},[F]),X.useEffect(()=>{try{Se()}catch{}},[]);let I=[...d.filter(s=>s.transferListed).filter(s=>{if(r){const t=r.toLowerCase(),a=s.name.toLowerCase().includes(t),n=ue(s.position).toLowerCase().includes(t),h=R(s.clubId).toLowerCase().includes(t);if(!a&&!n&&!h)return!1}if(g!=="all"){let t=!1;switch(g){case"gk":t=s.position==="PT";break;case"def":t=["DEC","LI","LD"].includes(s.position);break;case"mid":t=["MCD","MC","MO","MDI","MDD"].includes(s.position);break;case"att":t=["CD","EXI","EXD","SD"].includes(s.position);break}if(!t)return!1}return!(N!=="all"&&s.clubId!==N)})];p?I.sort((s,t)=>p==="asc"?s.transferValue-t.transferValue:t.transferValue-s.transferValue):C&&I.sort((s,t)=>C==="asc"?s.overall-t.overall:t.overall-s.overall);const V=`${r}-${g}-${p}-${C}-${N}`,O=Be({items:I,perPage:20,initialPage:1}),J=X.useRef(V);X.useEffect(()=>{J.current!==V&&(O.set(1),J.current=V)},[V]);const W=s=>{y(s)};return e.jsxs("div",{children:[e.jsx(ze,{title:"Mercado de Fichajes",subtitle:`Compra y vende jugadores para mejorar tu equipo. ${k} jugadores disponibles.`,image:"https://images.unsplash.com/photo-1494178270175-e96de2971df9?ixid=M3w3MjUzNDh8MHwxfHNlYXJjaHw0fHxlc3BvcnRzJTIwZ2FtaW5nJTIwdG91cm5hbWVudCUyMGRhcmslMjBuZW9ufGVufDB8fHx8MTc0NzE3MzUxNHww&ixlib=rb-4.1.0"}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[e.jsx("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:(()=>{const s=new Date,t=new Date;t.setDate(s.getDate()-7);const a=(b||[]).filter(z=>z.date&&new Date(z.date).getTime()>=t.getTime()),n=(B||[]).filter(z=>z.status==="pending"||z.status==="counter-offer"),h={},A={};a.forEach(z=>{h[z.toClub]=(h[z.toClub]||0)+(z.fee||0),A[z.fromClub]=(A[z.fromClub]||0)+(z.fee||0)});const _=Object.entries(h).sort((z,Q)=>Q[1]-z[1])[0],te=Object.entries(A).sort((z,Q)=>Q[1]-z[1])[0];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"group p-6 bg-gradient-to-br from-gray-800/80 to-gray-850/80 rounded-xl border border-gray-700/50 shadow-lg hover:shadow-xl hover:border-gray-600/50 transition-all duration-300 hover:scale-[1.02]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400 font-medium",children:"Ofertas activas"}),e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"})]}),e.jsx("div",{className:"text-3xl font-bold text-white group-hover:text-primary transition-colors duration-300",children:n.length}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Pendientes de respuesta"})]}),e.jsxs("div",{className:"group p-6 bg-gradient-to-br from-gray-800/80 to-gray-850/80 rounded-xl border border-gray-700/50 shadow-lg hover:shadow-xl hover:border-gray-600/50 transition-all duration-300 hover:scale-[1.02]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400 font-medium",children:"Transferidos (7 d√≠as)"}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]}),e.jsx("div",{className:"text-3xl font-bold text-white group-hover:text-green-400 transition-colors duration-300",children:a.length}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Movimientos recientes"})]}),e.jsxs("div",{className:"group p-6 bg-gradient-to-br from-gray-800/80 to-gray-850/80 rounded-xl border border-gray-700/50 shadow-lg hover:shadow-xl hover:border-gray-600/50 transition-all duration-300 hover:scale-[1.02]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-gray-400 font-medium",children:"Top mercado (7 d√≠as)"}),e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"})]}),e.jsxs("div",{className:"text-sm text-gray-300 mt-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{size:12,className:"text-green-400"}),e.jsx("span",{className:"text-xs",children:_?_[0]:"‚Äî"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{size:12,className:"text-red-400"}),e.jsx("span",{className:"text-xs",children:te?te[0]:"‚Äî"})]})]})]})]})})()}),e.jsx("div",{className:"mb-8",children:M?e.jsxs("div",{className:"relative overflow-hidden p-6 bg-gradient-to-r from-green-500/10 via-green-500/5 to-transparent border border-green-500/20 rounded-xl shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/5 to-transparent opacity-50"}),e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full mr-4 animate-pulse shadow-lg shadow-green-500/30"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-green-400 mb-1 flex items-center gap-2",children:[e.jsx(_e,{size:20,className:"text-green-400"}),"Mercado Abierto"]}),e.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:"Realiza ofertas por jugadores disponibles y mejora tu plantilla"})]})]})]}):e.jsxs("div",{className:"relative overflow-hidden p-6 bg-gradient-to-r from-red-500/10 via-red-500/5 to-transparent border border-red-500/20 rounded-xl shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/5 to-transparent opacity-50"}),e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full mr-4 shadow-lg shadow-red-500/30"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-red-400 mb-1 flex items-center gap-2",children:[e.jsx(Le,{size:20,className:"text-red-400"}),"Mercado Cerrado"]}),e.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:"El mercado de fichajes est√° cerrado actualmente. Vuelve pronto."})]})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex space-x-1 bg-gray-800/30 p-1 rounded-xl border border-gray-700/50 backdrop-blur-sm",children:[e.jsx("button",{onClick:()=>c("players"),className:`flex-1 px-6 py-3 font-medium rounded-lg transition-all duration-300 ${v==="players"?"bg-primary text-dark shadow-lg shadow-primary/25 transform scale-[1.02]":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(Fe,{size:16,className:"mr-2"}),"Jugadores"]})}),e.jsx("button",{onClick:()=>c("offers"),className:`flex-1 px-6 py-3 font-medium rounded-lg transition-all duration-300 ${v==="offers"?"bg-primary text-dark shadow-lg shadow-primary/25 transform scale-[1.02]":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(Y,{size:16,className:"mr-2"}),"Gesti√≥n de Ofertas"]})})]})}),v==="players"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8 bg-gradient-to-r from-gray-800/30 to-gray-850/30 rounded-xl p-6 border border-gray-700/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(le,{size:20,className:"text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre, posici√≥n o club...",className:"input pl-12 w-full h-12 text-base bg-gray-800/50 border-gray-600/50 focus:border-primary/50 rounded-lg",value:r,onChange:s=>i(s.target.value)})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("button",{onClick:()=>S(!j),className:`btn-secondary flex items-center px-6 py-3 h-12 transition-all duration-300 ${j?"bg-primary/20 border-primary/30":""}`,children:[e.jsx(Re,{size:18,className:"mr-2"}),e.jsx("span",{children:"Filtros"}),j?e.jsx(me,{size:18,className:"ml-2"}):e.jsx(ce,{size:18,className:"ml-2"})]})})]}),j&&e.jsx("div",{className:"mt-4 p-4 bg-gray-800 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Posici√≥n"}),e.jsxs("select",{className:"input w-full",value:g,onChange:s=>x(s.target.value),children:[e.jsx("option",{value:"all",children:"Todas las posiciones"}),e.jsx("option",{value:"gk",children:"Porteros (POR)"}),e.jsx("option",{value:"def",children:"Defensas (CT, LI, LD)"}),e.jsx("option",{value:"mid",children:"Centrocampistas (MCD, MC, MO, MDI, MDD)"}),e.jsx("option",{value:"att",children:"Delanteros (DC, EXI, EXD)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Club"}),e.jsxs("select",{className:"input w-full",value:N,onChange:s=>P(s.target.value),children:[e.jsx("option",{value:"all",children:"Todos los clubes"}),D.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Ordenar por precio"}),e.jsxs("select",{className:"input w-full",value:p||"",onChange:s=>{const t=s.target.value;m(t||null),t&&o(null)},children:[e.jsx("option",{value:"",children:"Sin ordenar"}),e.jsx("option",{value:"asc",children:"Precio: Menor a Mayor"}),e.jsx("option",{value:"desc",children:"Precio: Mayor a Menor"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Ordenar por media"}),e.jsxs("select",{className:"input w-full",value:C||"",onChange:s=>{const t=s.target.value;o(t||null),t&&m(null)},children:[e.jsx("option",{value:"",children:"Sin ordenar"}),e.jsx("option",{value:"asc",children:"Media: Menor a Mayor"}),e.jsx("option",{value:"desc",children:"Media: Mayor a Menor"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4 gap-6",children:[O.items.map(s=>{const t=l?.role==="dt"||Array.isArray(l?.roles)&&l.roles.includes("dt"),a=t?l?.clubId:null,n=t&&a&&s.clubId===a;return e.jsx(Qe,{player:s,club:{name:R(s.clubId),logo:L(s.clubId)},value:s.transferValue,disabled:!M||n,isOwnPlayer:n,onOffer:()=>$(s),onStatsClick:()=>W(s)},s.id)}),O.items.length===0&&e.jsx("div",{className:"col-span-full text-center py-16",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-700/50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(le,{size:32,className:"text-gray-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"No se encontraron jugadores"}),e.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Intenta ajustar los filtros de b√∫squeda o revisa si el mercado est√° abierto."})]})})]}),O.totalPages>1&&e.jsx("div",{className:"mt-12 bg-gradient-to-r from-gray-800/30 to-gray-850/30 rounded-xl p-6 border border-gray-700/50 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsx("div",{className:"flex items-center gap-4 text-sm",children:e.jsxs("span",{className:"text-gray-400",children:["Mostrando ",e.jsx("span",{className:"font-semibold text-white",children:O.items.length})," de ",e.jsx("span",{className:"font-semibold text-white",children:I.length})," jugadores"]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:O.prev,disabled:O.page===1,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-gray-700 to-gray-800 border border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:from-gray-600 hover:to-gray-700 hover:border-gray-500 transition-all duration-300 shadow-md hover:shadow-lg disabled:hover:shadow-md",children:"‚Üê Anterior"}),e.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-800/50 rounded-lg border border-gray-700/50",children:[e.jsx("span",{className:"text-primary font-semibold",children:O.page}),e.jsx("span",{className:"text-gray-500",children:"de"}),e.jsx("span",{className:"text-gray-400",children:O.totalPages})]}),e.jsx("button",{onClick:O.next,disabled:O.page===O.totalPages,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-gray-700 to-gray-800 border border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:from-gray-600 hover:to-gray-700 hover:border-gray-500 transition-all duration-300 shadow-md hover:shadow-lg disabled:hover:shadow-md",children:"Siguiente ‚Üí"})]})]})}),O.totalPages>1&&O.totalPages<=10&&e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:Array.from({length:O.totalPages},(s,t)=>t+1).map(s=>e.jsx("button",{onClick:()=>O.set(s),className:`px-3 py-1 rounded text-sm transition-all duration-200 ${O.page===s?"bg-primary text-white font-semibold":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-gray-300"}`,children:s},s))})]}):e.jsx("div",{children:e.jsx(Ke,{})})]}),u&&e.jsx(re,{player:u,isOpen:!!u,onClose:()=>y(null)}),f&&e.jsx(Ue,{player:f,onClose:()=>$(null)})]})};export{yr as default};
