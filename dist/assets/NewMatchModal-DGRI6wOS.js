import{r as s,j as e,X as N}from"./index-DTVNIeXw.js";const w=({onClose:o,onCreate:p,teams:i,tournaments:a,defaultTournamentId:j})=>{const[d,b]=s.useState(""),[l,v]=s.useState(j||""),[n,u]=s.useState(i[0]||""),[r,x]=s.useState(i[1]||""),[m,c]=s.useState(null),h=s.useMemo(()=>a&&l&&a.find(f=>f.id===l)?.teams||i,[a,l,i]),g=t=>{if(t.preventDefault(),c(null),!d||!n||!r){c("Completa fecha y equipos");return}if(n===r){c("Los equipos deben ser distintos");return}if(a&&a.length>0&&!l){c("Selecciona un torneo");return}p({date:d,homeTeam:n,awayTeam:r,tournamentId:l||void 0})};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:o}),e.jsxs("div",{className:"relative bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6",children:[e.jsx("button",{onClick:o,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:e.jsx(N,{size:20})}),e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Añadir Partido"}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[m&&e.jsx("div",{className:"p-3 bg-red-500/20 text-red-400 rounded-lg text-sm",children:m}),a&&a.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Torneo"}),e.jsxs("select",{className:"input w-full",value:l,onChange:t=>{v(t.target.value),u(""),x("")},required:!0,children:[e.jsx("option",{value:"",children:"Selecciona un torneo"}),a.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Fecha"}),e.jsx("input",{type:"datetime-local",className:"input w-full",value:d,onChange:t=>b(t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Local"}),e.jsxs("select",{className:"input w-full",value:n,onChange:t=>u(t.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Selecciona equipo local"}),h.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Visitante"}),e.jsxs("select",{className:"input w-full",value:r,onChange:t=>x(t.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Selecciona equipo visitante"}),h.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx("button",{type:"button",className:"btn-outline",onClick:o,children:"Cancelar"}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Añadir"})]})]})]})]})};export{w as N};
